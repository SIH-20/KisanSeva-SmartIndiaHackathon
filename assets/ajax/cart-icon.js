class RemoveFromCart{constructor(t){this.deleteButton=t,this.deleteFromCart()}deleteFromCart=()=>{this.deleteButton.click((function(t){t.preventDefault();let e=$(this).attr("data-itemId");$.ajax({type:"get",url:"/order/remove-from-cart/"+e,success:function(t){$("#cart-total").text(""+t.amount),$("#cart-count").text(""+t.deleted),$("#cart-item-"+e).remove(),new Noty({theme:"relax",text:"Item Removed From Cart",type:"success",layout:"topRight",timeout:2e3}).show()},error:function(t){console.log(t)}})}))}}let carthandler=function(){let t=$(".cart-icon > a");t.click(t=>{t.preventDefault()}),t.mouseenter((function(t){$.ajax({type:"get",url:"/order/getCartItems",success:function(t){let e=$("#cart-table-body");$("#cart-table-body > tr").remove(),$("#cart-total").text(""+t.cart.amount),t.cartItems.forEach(t=>{let r=createCartItem(t);e.prepend(r),new RemoveFromCart($(".remove-item",r))})},error:function(t){new Noty({theme:"relax",text:"Please Login to See Cart Items",type:"error",layout:"topRight",timeout:2e3}).show(),console.log(t)}})}))},createCartItem=t=>$(`\n    <tr id="cart-item-${t.item._id}">\n<td class="si-pic">\n<a href="/order/buy_product/${t.item._id}">  <img src="${t.item.image}" style="width:50px;height:50px" alt="" /></a>\n</td>\n<td class="si-text">\n    <div class="product-selected">\n        <p>Rs ${t.price} x ${t.quantity}</p>\n        <h6>${t.item.title}</h6>\n    </div>\n</td>\n<td class="si-close">\n   <span class="remove-item" data-itemId=${t.item._id}> <i class="ti-close" ></i></span>\n</td>\n</tr>`);carthandler();