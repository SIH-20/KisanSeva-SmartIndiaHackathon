var grammar="#JSGF V1.0;",recognition=new webkitSpeechRecognition,speechRecognitionList=new webkitSpeechGrammarList;let speechLanguage=sessionStorage.getItem("language");speechRecognitionList.addFromString(grammar,1),recognition.grammars=speechRecognitionList,recognition.lang="hi"===speechLanguage?"hi-IN":"en-US",recognition.interimResults=!1,$("#speech-btn").on("click",(async function(){recognition.start(),new Noty({theme:"relax",text:"Hello I am listening!",type:"success",layout:"topRight",timeout:2e3}).show()})),recognition.onresult=async function(e){try{var t=e.results[0][0].transcript;let o=t;if(console.log(speechLanguage),"hi"==speechLanguage){o=(await axios.get(`https://translation.googleapis.com/language/translate/v2?q=${t}&key=AIzaSyCquyPHkufd6a-PQxsYT0KuuKdXz2fX7LM&target=en&format=text&source=hi&model=nmt`)).data.data.translations[0].translatedText}if(o.toLowerCase().search("search")||o.toLowerCase().search("show")){let e=o.toLowerCase().split(" ")[1];$("#search-bar").val(e),$("#query-submit-btn").click()}}catch(e){throw e}},recognition.onspeechend=()=>{recognition.stop()},recognition.onerror=e=>{console.log(e.error)};